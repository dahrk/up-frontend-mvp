{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst fs_1 = require(\"fs\");\n\nconst util_1 = require(\"util\");\n\nconst is_1 = require(\"@sindresorhus/is\");\n\nconst is_form_data_1 = require(\"./is-form-data\");\n\nconst statAsync = util_1.promisify(fs_1.stat);\n\nexports.default = async (body, headers) => {\n  if (headers && 'content-length' in headers) {\n    return Number(headers['content-length']);\n  }\n\n  if (!body) {\n    return 0;\n  }\n\n  if (is_1.default.string(body)) {\n    return Buffer.byteLength(body);\n  }\n\n  if (is_1.default.buffer(body)) {\n    return body.length;\n  }\n\n  if (is_form_data_1.default(body)) {\n    return util_1.promisify(body.getLength.bind(body))();\n  }\n\n  if (body instanceof fs_1.ReadStream) {\n    const {\n      size\n    } = await statAsync(body.path);\n\n    if (size === 0) {\n      return undefined;\n    }\n\n    return size;\n  }\n\n  return undefined;\n};","map":{"version":3,"sources":["/home/td/code/up-frontend-mvp/node_modules/got/dist/source/core/utils/get-body-size.js"],"names":["Object","defineProperty","exports","value","fs_1","require","util_1","is_1","is_form_data_1","statAsync","promisify","stat","default","body","headers","Number","string","Buffer","byteLength","buffer","length","getLength","bind","ReadStream","size","path","undefined"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,IAAD,CAApB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,MAAD,CAAtB;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,kBAAD,CAApB;;AACA,MAAMG,cAAc,GAAGH,OAAO,CAAC,gBAAD,CAA9B;;AACA,MAAMI,SAAS,GAAGH,MAAM,CAACI,SAAP,CAAiBN,IAAI,CAACO,IAAtB,CAAlB;;AACAT,OAAO,CAACU,OAAR,GAAkB,OAAOC,IAAP,EAAaC,OAAb,KAAyB;AACvC,MAAIA,OAAO,IAAI,oBAAoBA,OAAnC,EAA4C;AACxC,WAAOC,MAAM,CAACD,OAAO,CAAC,gBAAD,CAAR,CAAb;AACH;;AACD,MAAI,CAACD,IAAL,EAAW;AACP,WAAO,CAAP;AACH;;AACD,MAAIN,IAAI,CAACK,OAAL,CAAaI,MAAb,CAAoBH,IAApB,CAAJ,EAA+B;AAC3B,WAAOI,MAAM,CAACC,UAAP,CAAkBL,IAAlB,CAAP;AACH;;AACD,MAAIN,IAAI,CAACK,OAAL,CAAaO,MAAb,CAAoBN,IAApB,CAAJ,EAA+B;AAC3B,WAAOA,IAAI,CAACO,MAAZ;AACH;;AACD,MAAIZ,cAAc,CAACI,OAAf,CAAuBC,IAAvB,CAAJ,EAAkC;AAC9B,WAAOP,MAAM,CAACI,SAAP,CAAiBG,IAAI,CAACQ,SAAL,CAAeC,IAAf,CAAoBT,IAApB,CAAjB,GAAP;AACH;;AACD,MAAIA,IAAI,YAAYT,IAAI,CAACmB,UAAzB,EAAqC;AACjC,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMf,SAAS,CAACI,IAAI,CAACY,IAAN,CAAhC;;AACA,QAAID,IAAI,KAAK,CAAb,EAAgB;AACZ,aAAOE,SAAP;AACH;;AACD,WAAOF,IAAP;AACH;;AACD,SAAOE,SAAP;AACH,CAxBD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = require(\"fs\");\nconst util_1 = require(\"util\");\nconst is_1 = require(\"@sindresorhus/is\");\nconst is_form_data_1 = require(\"./is-form-data\");\nconst statAsync = util_1.promisify(fs_1.stat);\nexports.default = async (body, headers) => {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is_1.default.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is_1.default.buffer(body)) {\n        return body.length;\n    }\n    if (is_form_data_1.default(body)) {\n        return util_1.promisify(body.getLength.bind(body))();\n    }\n    if (body instanceof fs_1.ReadStream) {\n        const { size } = await statAsync(body.path);\n        if (size === 0) {\n            return undefined;\n        }\n        return size;\n    }\n    return undefined;\n};\n"]},"metadata":{},"sourceType":"script"}